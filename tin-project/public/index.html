<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Racetrack Manager</title>
    <link rel="stylesheet" href="style.css">
    <script type="module" src="script.js"></script>
</head>
<body>

<h1>ğŸ Racetrack Manager</h1>

<div id="connection-error" class="error-box hidden"></div>

<nav>
    <button id="btn-results">ğŸ† Results</button>
    <button id="btn-drivers">ğŸï¸ Drivers</button>
    <button id="btn-races">ğŸŒ Races</button>

    <span style="flex-grow: 1;"></span>

    <div id="nav-guest" style="display: inline-block;">
        <button id="btn-login">ğŸ”‘ Login</button>
        <button id="btn-register">ğŸ“ Register</button>
    </div>

    <div id="nav-user" class="hidden" style="display: none;"><span id="user-display"
                                                                   style="font-weight: bold; margin-right: 10px;"></span>
        <button id="btn-logout">ğŸšª Logout</button>
    </div>
</nav>

<hr>

<div id="app-container"></div>


<template id="tmpl-results">
    <h2>Race Results</h2>
    <table>
        <thead>
        <tr>
            <th>Date</th>
            <th>Track</th>
            <th>Driver</th>
            <th>Car</th>
            <th>Pos</th>
        </tr>
        </thead>
        <tbody id="tbody-results"></tbody>
    </table>
</template>

<template id="tmpl-drivers">
    <h2>Drivers List</h2>
    <table>
        <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Nationality</th>
            <th>License</th>
            <th>Status</th>
        </tr>
        </thead>
        <tbody id="tbody-drivers"></tbody>
    </table>
</template>

<template id="tmpl-races">
    <h2>Races Schedule</h2>
    <button id="btn-open-add-race">+ Add New Race</button>
    <button id="btn-open-delete-race" style="background-color: #d9534f; display: none;">ğŸ—‘ï¸ Delete Race</button>
    <table>
        <thead>
        <tr>
            <th>Track</th>
            <th>Date</th>
            <th>Distance</th>
            <th>Weather</th>
        </tr>
        </thead>
        <tbody id="tbody-races"></tbody>
    </table>
</template>

<template id="tmpl-add-race">
    <h2>Add New Race</h2>
    <form id="form-add-race">
        <label for="input-track">Track Name:</label>
        <input type="text" id="input-track">
        <br>
        <label for="input-date">Date:</label>
        <input type="date" id="input-date">
        <br>
        <label for="input-distance">Distance (km):</label>
        <input type="number" id="input-distance" step="0.1">
        <br>
        <label for="input-weather">Weather:</label>
        <input type="text" id="input-weather">
        <br>
        <br>
        <button type="submit">Save Race</button>
        <button type="button" id="btn-cancel-add">Cancel</button>
    </form>
</template>

<template id="tmpl-auth">
    <h2 id="auth-title"></h2>
    <form id="form-auth">
        <label>Username: <input type="text" id="input-auth-user"></label><br>
        <label>Password: <input type="password" id="input-auth-pass"></label><br><br>
        <button type="submit" id="btn-auth-submit"></button>
    </form>
</template>

<template id="tmpl-delete-race">
    <h2>Delete Race</h2>
    <p>Select a race to remove permanently:</p>

    <form id="form-delete-race">
        <label for="select-race-delete">Choose Race:</label>
        <select id="select-race-delete" style="padding: 5px; margin-bottom: 10px; width: 100%;">
            <option value="" disabled selected>Loading races...</option>
        </select>
        <br><br>

        <button type="submit" style="background-color: #d9534f;">Delete Permanently</button>
        <button type="button" id="btn-cancel-delete">Cancel</button>
    </form>
</template>

</body>
</html>